<% provide(:title, 'All zones') %>
<div class="container-fluid user-info">
  <div class="page-header-back"></div>
  <div class="row-fluid">
      <%= render 'users/user_info', user: @user, span_size: 12 %>
  </div>
</div>

<div class="container-fluid page-content-with-left-sidebar">
  <% if @markers_json != nil && @markers_json.length > 0 %>
  <div id="resizable-map" class="row-fluid">
    <div id="last-locations" style="position:relative;top:-250px"></div>
    <%= render 'shared/map_with_options' %>
  </div>
  <br/>
  <br/>
  <% end %>
  <div id="zones" style="position:relative;top:-240px"></div>
  <div id="sticker-zones" class="row-fluid">
    <h1>Listing zones</h1>

    <table>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Alert level</th>
        <th>Alerts on enter</th>
        <th>Alerts on exit</th>
        <th>Sticker</th>
        <th>Colour</th>
        <th></th>
        <th></th>
        <th></th>
      </tr>

    <% @zones.each do |zone| %>
      <tr>
        <td><%= zone.name %></td>
        <td><%= zone.description %></td>
        <td><%= zone.alert_level %></td>
        <td><%= zone.alerts_on_enter %></td>
        <td><%= zone.alerts_on_exit %></td>
        <td><%= zone.sticker_id %></td>
        <td><%= zone.colour %></td>
        <td><%= link_to 'Show', zone %></td>
        <td><%= link_to 'Edit', edit_zone_path(zone) %></td>
        <td><%= link_to 'Destroy', zone, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
    </table>

    <br />

    <%= link_to 'New Zone', new_user_sticker_zone_path(@user, @sticker) %>
  </div>
</div>

<!-- Sidebar Fixed left -->
<div class="sidebar">
  <h3>Navigate</h3>
  <ul id="sidebar-nav" class="nav nav-list affix" data-offset-top="200px">
    <li><a href="#zones">Zones</a></li>
  </ul>
</div>
